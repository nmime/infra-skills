{
  "company_name": "splox",
  "edges": [
    {
      "data": {},
      "edge_type": "parallel",
      "source_handle": "output",
      "source_index": 0,
      "target_index": 7
    },
    {
      "data": {},
      "edge_type": "tool",
      "source_handle": "tools",
      "source_index": 6,
      "target_index": 3
    },
    {
      "data": {
        "child_tool_description": "Delegate research tasks to Market Deepresearch agent",
        "execution_mode": "sync"
      },
      "edge_type": "tool",
      "source_handle": "tools",
      "source_index": 7,
      "target_index": 4
    },
    {
      "data": {},
      "edge_type": "tool",
      "source_handle": "tools",
      "source_index": 4,
      "target_index": 6
    },
    {
      "data": {},
      "edge_type": "tool",
      "source_handle": "tools",
      "source_index": 7,
      "target_index": 5
    },
    {
      "data": {},
      "edge_type": "tool",
      "source_handle": "tools",
      "source_index": 6,
      "target_index": 2
    },
    {
      "data": {},
      "edge_type": "tool",
      "source_handle": "tools",
      "source_index": 6,
      "target_index": 1
    },
    {
      "data": {},
      "edge_type": "tool",
      "source_handle": "tools",
      "source_index": 7,
      "target_index": 8
    }
  ],
  "exported_at": "2026-01-27T17:08:48.319999356Z",
  "format_version": "1.0",
  "metadata": {
    "maximum_trigger_calls": 100
  },
  "nodes": [
    {
      "data": {},
      "label": "Start",
      "node_index": 0,
      "node_type": "start",
      "pos_x": 50,
      "pos_y": 574
    },
    {
      "data": {
        "mcp_server_url": "https://mcp.splox.io/serper/mcp"
      },
      "label": "Search",
      "node_index": 1,
      "node_type": "tool",
      "pos_x": 1970,
      "pos_y": 574
    },
    {
      "data": {
        "allowed_tools": [
          "hyperliquid_get_historical_orders",
          "hyperliquid_get_all_prices"
        ],
        "mcp_server_url": "system:tool_router"
      },
      "label": "Tool Router",
      "node_index": 2,
      "node_type": "tool",
      "pos_x": 1970,
      "pos_y": 312
    },
    {
      "data": {
        "allowed_tools": [
          "splox_get_current_time"
        ],
        "mcp_server_url": "system:splox"
      },
      "label": "Current Time",
      "node_index": 3,
      "node_type": "tool",
      "pos_x": 1970,
      "pos_y": 50
    },
    {
      "data": {
        "additional_llm_config": {
          "builtin_tools": [],
          "cache_control": "5m",
          "enable_1m_context": true,
          "max_completion_tokens": 48000,
          "modalities": [
            "text",
            "image"
          ],
          "thinking_tokens": 4096
        },
        "chat_streaming_mode": "session",
        "context_memory": {
          "context_memory_id": "{{ start.chat_id }}",
          "enable_summarization": true,
          "limit_type": "tokens",
          "max_tokens": 70000,
          "min_messages_to_keep": 70,
          "summarize_prompt": "Summarize the following conversation briefly, focusing on key points and decisions made. ",
          "trim_strategy": "drop_oldest",
          "user_message_content": "{{ start.text }}"
        },
        "enable_streaming": true,
        "max_iterations": 100,
        "node_name": "Agent",
        "on_tool_error": "continue",
        "system_prompt": "**Role:** Market research analyst conducting parallel, deep investigation.\n\n### Phase 1: Scope\n- **Core question:** What exactly are we solving?\n- **Boundaries:** In/out of scope\n- **Success criteria:** What does a good answer look like?\n- **Research angles:** Define 3-5 distinct threads\n\n### Phase 2: Parallel Research\nSpawn research threads, each with:\n- **Unique `context_memory_id`** (e.g., `competitor_analysis_001`, `market_trends_001`)\n- **Distinct boundaries** — no overlap between threads\n- **Specific success criteria** per thread\n\n```\nAlways include random id as a prefix.\n\nThread 1: context_memory_id=\"random_id_competitors_{session}\"\nThread 2: context_memory_id=\"random_id_customers_{session}\"\nThread 3: context_memory_id=\"random_id_trends_{session}\"\nThread 4: context_memory_id=\"random_id_regulations_{session}\"\n```\n\nEach thread: search → validate → store findings with confidence level.\n\n### Phase 3: Synthesis\n- Merge findings across all `context_memory_id` threads\n- Cross-reference, resolve contradictions\n- Rank by relevance + confidence\n\n### Output\n```\n## Summary\n## Key Findings (sourced, confidence-tagged)\n## Gaps / Next Steps\n```",
        "text_llm_model": "claude-sonnet-4-5-20250929",
        "text_llm_provider_slug": "anthropic",
        "tool_choice": "auto",
        "voice_llm_model": "gemini-2.5-flash-native-audio-preview-12-2025",
        "voice_llm_provider_slug": "gemini"
      },
      "label": "Market DeepResearch",
      "node_index": 4,
      "node_type": "agent",
      "pos_x": 1010,
      "pos_y": 181
    },
    {
      "data": {
        "mcp_server_url": "system:skills"
      },
      "label": "Skills",
      "node_index": 5,
      "node_type": "tool",
      "pos_x": 1010,
      "pos_y": 443
    },
    {
      "data": {
        "additional_llm_config": {
          "builtin_tools": [],
          "cache_control": "5m",
          "max_completion_tokens": 48000,
          "modalities": [
            "text",
            "image"
          ],
          "thinking_tokens": 4096
        },
        "chat_streaming_mode": "none",
        "context_memory": {
          "context_memory_id": "{{ start.chat_id }}",
          "enable_summarization": true,
          "limit_type": "tokens",
          "max_tokens": 70000,
          "min_messages_to_keep": 70,
          "summarize_prompt": "Summarize the following conversation briefly, focusing on key points and decisions made. ",
          "trim_strategy": "drop_oldest",
          "user_message_content": "{{ start.text }}"
        },
        "enable_streaming": true,
        "max_iterations": 100,
        "on_tool_error": "continue",
        "system_prompt": "You are a helpful assistant that can use tools to accomplish tasks. Always check current time.",
        "text_llm_model": "claude-sonnet-4-5-20250929",
        "text_llm_provider_slug": "anthropic",
        "tool_choice": "auto",
        "voice_llm_model": "gemini-2.5-flash-native-audio-preview-12-2025",
        "voice_llm_provider_slug": "gemini"
      },
      "label": "Subagent",
      "node_index": 6,
      "node_type": "agent",
      "pos_x": 1490,
      "pos_y": 181
    },
    {
      "data": {
        "additional_llm_config": {
          "builtin_tools": [],
          "cache_control": "5m",
          "enable_1m_context": true,
          "max_completion_tokens": 48000,
          "modalities": [
            "text",
            "image"
          ],
          "thinking_tokens": 4096
        },
        "additional_realtime_config": {
          "enable_affective_dialog": true,
          "proactive_audio": false,
          "voice": "puck"
        },
        "chat_streaming_mode": "session",
        "context_memory": {
          "context_memory_id": "{{ start.chat_id }}",
          "enable_summarization": true,
          "limit_type": "tokens",
          "max_tokens": 3000000,
          "min_messages_to_keep": 70,
          "summarize_prompt": "Summarize the following conversation briefly, focusing on key points and decisions made. ",
          "trim_strategy": "drop_oldest",
          "user_message_content": "{{ start | tojson }}"
        },
        "enable_streaming": true,
        "max_iterations": 100000,
        "node_name": "Agent",
        "on_tool_error": "continue",
        "realtime_enabled": true,
        "skills": [
          "@volatile/trader-agent"
        ],
        "system_prompt": "You are an autonomous crypto trading agent on Hyperliquid perpetuals. Your mission: make money through disciplined execution.\n\nCORE PROTOCOL:\n1. Check current time on every wake\n2. Verify Hyperliquid connection before any action\n3. Load trading mode → follow its parameters STRICTLY\n4. Execute trades decisively with no hesitation\n5. React to position events immediately\n\nRISK MANAGEMENT (NON-NEGOTIABLE):\n- Calculate position size using Half-Kelly: RISK = BASE_RISK × (confidence/10) × volatility_factor\n- Use ATR-based stops: SL = 1.5-2× ATR, TP = 2× SL minimum (2:1 R:R)\n- Never set stop loss beyond 60-70% of liquidation distance\n- Track daily P&L - if exceeds mode's loss limit, STOP immediately\n- After 3 consecutive losses, enter 30-45 min cooldown\n- Reduce position size when in drawdown\n\nFUNDING EDGE:\n- Extreme positive funding (>0.05%/hr) = fade longs (short bias)\n- Extreme negative funding (<-0.05%/hr) = fade shorts (long bias)\n- Trading against funding edge = reduce confidence by 1-2 points\n\nVOLATILITY ADAPTATION:\n- High ATR (>1.5× average) = reduce size to 60-70%, lower leverage\n- Low ATR (<0.7× average) = normal or slightly larger size\n- ATR determines stop distances, not fixed percentages\n\nTRACKING:\n- Log every trade result (win/loss)\n- Update win rate after each trade\n- Report progress toward target regularly\n- Show portfolio status with unrealized P&L\n\nYou are not a chatbot. You are a professional trader. Capital preservation enables future gains. Execute with discipline.",
        "text_llm_model": "claude-opus-4-5-20251101",
        "text_llm_provider_slug": "anthropic",
        "tool_choice": "auto",
        "voice_llm_model": "gemini-2.5-flash-native-audio-preview-12-2025",
        "voice_llm_provider_slug": "gemini"
      },
      "label": "Gambler",
      "node_index": 7,
      "node_type": "agent",
      "pos_x": 530,
      "pos_y": 574
    },
    {
      "data": {
        "allowed_tools": [
          "SPLOX_EXECUTE_TOOL",
          "SPLOX_GET_TOOL_SCHEMA",
          "SPLOX_LIST_USER_CONNECTIONS",
          "SPLOX_SEARCH_TOOLS"
        ],
        "mcp_server_url": "system:tool_router"
      },
      "label": "Tool",
      "node_index": 8,
      "node_type": "tool",
      "pos_x": 1005.1590966791027,
      "pos_y": 654.9115128996793
    }
  ],
  "variable_mappings": [
    {
      "mapping_name": "start",
      "node_index": 7,
      "target_node_index": 0
    }
  ],
  "version_number": 1,
  "workflow_description": "",
  "workflow_name": "Autonomous trader"
}