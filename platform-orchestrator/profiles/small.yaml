# ============================================
# SMALL TIER - ~€28-35/mo
# ============================================
# Best for: Startups, small teams, staging
# Nodes: 3 (1 master, 2 workers)
# HA: No (single master)
# ============================================

tier: small
cost_estimate: "€28-35/mo"

global:
  project: k8s          # Resource prefix: k8s-network, k8s-bastion, etc.
  domain: example.com
  email: admin@example.com
  environment: staging

# ---------------------------------------------
# Infrastructure
# ---------------------------------------------
infrastructure:
  provider: hetzner
  # EU: hel1 (Finland), fsn1 (Germany), nbg1 (Germany)
  # US: ash (Virginia), hil (Oregon)
  region: hel1
  
  control_plane:
    count: 1
    type: cx22
    schedulable: false
  
  workers:
    count: 2
    type: cx32

# ---------------------------------------------
# Network
# ---------------------------------------------
network:
  bastion:
    enabled: true
    server_type: cx22
  
  load_balancer:
    enabled: true
    type: lb11
  
  vpn:
    enabled: true

# ---------------------------------------------
# Kubernetes
# ---------------------------------------------
kubernetes:
  version: v1.34.3
  cni: cilium
  ha_control_plane: false

# ---------------------------------------------
# Storage - ENABLED by default
# ---------------------------------------------
storage:
  enabled: true
  mode: standalone
  replicas: 1
  size: 100Gi

# ---------------------------------------------
# Secrets - ENABLED by default
# ---------------------------------------------
secrets:
  enabled: true
  vault:
    replicas: 1
    storage_size: 10Gi

# ---------------------------------------------
# Databases - ENABLED by default
# ---------------------------------------------
databases:
  postgresql:
    enabled: true
    replicas: 1
    storage_size: 20Gi

# ---------------------------------------------
# GitLab - ENABLED by default
# ---------------------------------------------
gitlab:
  enabled: true
  webservice_replicas: 1
  sidekiq_replicas: 1
  runner:
    enabled: true
    concurrent_jobs: 5

# ---------------------------------------------
# GitOps - ENABLED by default
# ---------------------------------------------
gitops:
  enabled: true
  ha_enabled: false

# ---------------------------------------------
# Observability - ENABLED by default
# ---------------------------------------------
observability:
  metrics:
    enabled: true
    retention: 14d
    storage_size: 20Gi
  
  logging:
    enabled: true
    retention: 7d
  
  grafana:
    enabled: true

# ---------------------------------------------
# Autoscaling - ENABLED by default
# ---------------------------------------------
autoscaling:
  enabled: true